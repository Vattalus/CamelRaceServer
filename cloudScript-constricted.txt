function generateFailObj(a,b){return{Result:"Failed",Message:a,Data:b}}function generateErrObj(a,b){return{Result:"Error",Message:a,Data:b}}function loadTitleDataJson(a){var b=server.GetTitleData({PlayFabId:currentPlayerId,Keys:[a]});if(void 0==b||void 0==b.Data||void 0==b.Data[a])return null;a=JSON.parse(b.Data[a]);return void 0==a?null:a}
handlers.grantOasis=function(a,b){a=loadTitleDataJson("Balancing_Oasis");if(void 0==a||null==a)return generateErrObj("Oasis Balancing JSON undefined or null");a=server.GetUserReadOnlyData({PlayFabId:currentPlayerId,Keys:["nextOasis"]});b=new Date;log.debug("curr timestamp: ",b.getTime.timeStamp);if(void 0!=a.Data.nextOasis&&void 0!=a.Data.nextOasis.Value&&a.Data.nextOasis.Value>=b.getTime.timeStamp)return generateFailObj("Oasis not ready yet",a.Data.nextOasis.Value);log.debug("nextOasis.Data.nextOasis undefined: ",
void 0==a.Data.nextOasis);b=a.Data.nextOasis.Value;log.debug("Next Oasis timestep undefined: ",void 0==b);log.debug("Next Oasis timestep null: ",null==b);return{nextOasisTimestamp:a.Data.nextOasis}};
